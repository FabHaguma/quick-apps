<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fuel Consumption Converter</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        background-color: #1e1e2f;
        color: #f8f8f2;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
      }

      .container {
        background-color: #282a36;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.2);
        text-align: center;
        max-width: 400px;
        width: 100%;
      }

      h1 {
        color: #50fa7b;
        margin-bottom: 20px;
      }

      label {
        display: block;
        color: #ff79c6;
        margin-bottom: 10px;
      }

      input {
        width: calc(100% - 150px);
        padding: 10px;
        border-radius: 5px;
        border: none;
        margin-bottom: 20px;
        background-color: #44475a;
        color: #f8f8f2;
      }

      button {
        padding: 10px 20px;
        background-color: #6272a4;
        border: none;
        border-radius: 5px;
        color: #ffffff;
        font-weight: bold;
        cursor: pointer;
        transition: background-color 0.3s;
      }

      button:hover {
        background-color: #50fa7b;
        color: #282a36;
      }

      .result {
        margin-top: 20px;
        font-size: 1.2em;
        font-weight: bold;
        color: #ffb86c;

        display: flex;
        flex-direction: column;
      }

      .input-space {
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        width: calc(100% - 20px);
        height: 4rem;
        padding-bottom: 1rem;
      }

      select {
        height: 70%;
      }
    </style>
  </head>

  <body>
    <div class="container">
      <h1>Fuel Consumption Converter</h1>

      <label for="mpgInput">Input value and its unit :</label>
      <div class="input-space">
        <input
          type="number"
          id="fuelInput"
          step="0.01"
          placeholder="Enter Value"
        />
        <select name="units" id="pick-unit">
          <option value="mpg-us" selected>MPG (US)</option>
          <option value="mpg-uk">MPG (UK)</option>
          <option value="kmpl">KM/L</option>
          <option value="l100km">L/100KM</option>
        </select>
      </div>

      <button onclick="generalConvert()">Convert</button>

      <div id="result" class="result"></div>
    </div>

    <script>
      // Conversion Constants
      const MPG_TO_LKM = 235.214583; // Conversion factor for MPG to L/100km
      const UK_to_US = 0.8327; // Conversion factor for UK mpg to US mpg
      let finalResult = [];

      function addToFinalResult(txt) {
        finalResult.push(txt);
      }

      function addDivToFinalResult() {
        var resultDiv = document.getElementById("result");
        for (let i = 0; i < finalResult.length; i++) {
          resultDiv.innerHTML += `<div id="${"id-00" + i}">${
            finalResult[i]
          }</div>`;
        }
      }

      function resetResult() {
        finalResult = [];

        for (let i = 0; i < 5; i++) {
          var innerDiv = document.getElementById("id-00" + i);
          if (innerDiv) innerDiv.parentNode.removeChild(innerDiv);
        }
      }

      function generalConvert() {
        resetResult();

        let convFrom = getConvertFrom();

        var consVal = parseFloat(document.getElementById("fuelInput").value);

        if (isNaN(consVal) || consVal <= 0) {
          document.getElementById("result").textContent =
            "Please enter a valid MPG value.";
          return;
        }

        if (convFrom === "mpg-us") {
          // Convert From MPG

          var lkm = MPG_TO_LKM / consVal;
          addToFinalResult(
            consVal.toFixed(2) + " MPG (US) is " + lkm.toFixed(2) + " L/100km."
          );

          var kmpl = 100 / lkm;
          addToFinalResult(
            consVal.toFixed(2) + " MPG (US) is " + kmpl.toFixed(2) + " km/L."
          );

          var ukMpg = consVal / UK_to_US;
          addToFinalResult(
            consVal.toFixed(2) +
              " MPG (US) is " +
              ukMpg.toFixed(2) +
              " MPG (UK)."
          );

          addDivToFinalResult();
        } else if (convFrom === "mpg-uk") {
          // Convert From MPG

          var lkm = MPG_TO_LKM / consVal;
          addToFinalResult(
            consVal.toFixed(2) + " MPG (UK) is " + lkm.toFixed(2) + " L/100km."
          );

          var kmpl = 100 / lkm;
          addToFinalResult(
            consVal.toFixed(2) + " MPG (UK) is " + kmpl.toFixed(2) + " km/L."
          );

          var usMpg = consVal * UK_to_US;
          addToFinalResult(
            consVal.toFixed(2) +
              " MPG (UK) is " +
              usMpg.toFixed(2) +
              " MPG (US)."
          );

          addDivToFinalResult();
        } else if (convFrom === "l100km") {
          // Convert From L/100km

          var mpg = MPG_TO_LKM / consVal;
          addToFinalResult(
            consVal.toFixed(2) + " L/100km is " + mpg.toFixed(2) + " MPG."
          );

          var kmpl = 100 / consVal;
          addToFinalResult(
            consVal.toFixed(2) + " L/100km is " + kmpl.toFixed(2) + " km/L."
          );

          addDivToFinalResult();
        } else if (convFrom === "kmpl") {
          // Convert From kmpL

          var lkm = 100 / consVal;
          addToFinalResult(
            consVal.toFixed(2) + " km/L is " + lkm.toFixed(2) + " L/100km."
          );

          var mpg = MPG_TO_LKM / lkm;
          addToFinalResult(
            consVal.toFixed(2) + " km/L is " + mpg.toFixed(2) + " MPG."
          );

          addDivToFinalResult();
        }
      }

      function getConvertFrom() {
        let dropDown = document.getElementById("pick-unit");
        let selectedOption = dropDown.options[dropDown.selectedIndex];
        return selectedOption.value;
      }
    </script>
  </body>
</html>
